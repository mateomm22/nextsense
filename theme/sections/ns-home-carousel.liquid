<div class="wrap-home-carousel">
  <div class="home-carousel__headline">
    <div class="container">
      <h2 class="title">
        {{ section.settings.headline_1 }}
          <span>
            {{ section.settings.headline_2 }}
          </span>
      </h2>

    </div>
  </div>

  {% if section.blocks.size > 0 %}
    <div class="container">
      <div class="swiper home-carousel js-home-carousel">
        <div class="swiper-wrapper">
          {% for block in section.blocks %}
            <div class="swiper-slide single-home-carousel">
              {% if block.settings.bg_image %}
                <picture>
                  <!-- WebP source for modern browsers -->
                  <source
                    srcset="
                      {{ block.settings.bg_image | image_url: width: 480, format: 'webp' }} 480w,
                      {{ block.settings.bg_image | image_url: width: 768, format: 'webp' }} 768w,
                      {{ block.settings.bg_image | image_url: width: 1024, format: 'webp' }} 1024w,
                      {{ block.settings.bg_image | image_url: width: 1400, format: 'webp' }} 1400w
                    "
                    sizes="100vw"
                    type="image/webp"
                  >

                  <!-- Fallback <img> tag -->
                  <img
                    src="{{ block.settings.bg_image | image_url: width: 1400 }}"
                    alt="{{ block.settings.bg_image.alt | escape }}"
                    class="single-home-carousel__bg"
                    decoding="async"
                  >
                </picture>
              {% endif %}

              <div class="single-home-carousel__graphic">
                <img src="{{ block.settings.graphic | image_url: width: 450, format: 'webp' }}" alt="{{ block.settings.graphic.alt | escape }}">

              </div>
            </div>
          {% endfor %}
        </div>

        <!-- If we need pagination -->
        <div class="swiper-pagination"></div>

        <!-- If we need navigation buttons -->
        <div class="swiper-button swiper-button-prev">
          <svg width="16" height="11" viewBox="0 0 16 11" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M2.523 5.89423L6.25775 9.62873C6.35508 9.72623 6.406 9.84098 6.4105 9.97298C6.415 10.1052 6.36408 10.2263 6.25775 10.3365C6.14742 10.4468 6.0285 10.5029 5.901 10.5047C5.77333 10.5067 5.65442 10.4526 5.54425 10.3422L1.1615 5.95973C1 5.79807 0.91925 5.60957 0.91925 5.39423C0.91925 5.1789 1 4.9904 1.1615 4.82873L5.54425 0.446233C5.64175 0.348733 5.75742 0.297733 5.89125 0.293233C6.02525 0.288733 6.14742 0.341649 6.25775 0.451983C6.36408 0.562149 6.41825 0.680067 6.42025 0.805733C6.42208 0.9314 6.36792 1.0494 6.25775 1.15973L2.523 4.89423H14.9038C15.0461 4.89423 15.165 4.94198 15.2605 5.03748C15.356 5.13298 15.4038 5.2519 15.4038 5.39423C15.4038 5.53657 15.356 5.65548 15.2605 5.75098C15.165 5.84648 15.0461 5.89423 14.9038 5.89423H2.523Z" />
          </svg>

        </div>

        <div class="swiper-button swiper-button-next">
          <svg width="14" height="11" viewBox="0 0 14 11" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12.073 5.89376H0.5C0.357667 5.89376 0.23875 5.84601 0.14325 5.75051C0.0477499 5.65501 0 5.53609 0 5.39376C0 5.25142 0.0477499 5.13251 0.14325 5.03701C0.23875 4.94151 0.357667 4.89376 0.5 4.89376H12.073L8.3385 1.15926C8.241 1.06176 8.19 0.947006 8.1855 0.815005C8.181 0.682839 8.232 0.561673 8.3385 0.451506C8.44867 0.341173 8.56758 0.28509 8.69525 0.283257C8.82275 0.281257 8.94167 0.335423 9.052 0.445757L13.4345 4.82826C13.5218 4.91559 13.5831 5.00476 13.6182 5.09576C13.6536 5.18676 13.6712 5.28609 13.6712 5.39376C13.6712 5.50142 13.6536 5.60076 13.6182 5.69176C13.5831 5.78276 13.5218 5.87192 13.4345 5.95926L9.052 10.3418C8.9545 10.4393 8.83875 10.4903 8.70475 10.4948C8.57075 10.4993 8.44867 10.4463 8.3385 10.336C8.232 10.2258 8.17783 10.1079 8.176 9.98226C8.174 9.85659 8.22817 9.73859 8.3385 9.62826L12.073 5.89376Z" />
          </svg>
        </div>
      </div>
    </div>
  {% endif %}

</div>

{% schema %}
{
  "name": "Home Carousel (Features)",
  "tag": "section",
  "disabled_on": {
    "groups": ["header"]
  },
  "settings": [
    {
      "type": "text",
      "id": "headline_1",
      "label": "Headline 1"
    },
    {
      "type": "text",
      "id": "headline_2",
      "label": "Headline 2"
    }
  ],
  "blocks": [
    {
      "type": "home-carousel-slide",
      "name": "Carousel Slide",
      "settings": [
        {
          "type": "image_picker",
          "id": "bg_image",
          "label": "Background Image"
        },
        {
          "type": "image_picker",
          "id": "graphic",
          "label": "Graphic element"
        },
      ]
    }
  ],
  "presets": [
    {
      "name": "Home Carousel (Features)",
      "category": "Section",
    }
  ]
}
{% endschema %}
